(this["webpackJsonpne-kuru-frontend"]=this["webpackJsonpne-kuru-frontend"]||[]).push([[0],{194:function(e,t,a){e.exports=a.p+"static/media/app_icon_150.8e7e0804.jpg"},205:function(e){e.exports=JSON.parse('{"name":"ne-kuru-frontend","version":"1.0.9","description":"","main":"index.js","homepage":"https://demonzarov.github.io/brosay-tabak-front-build/","scripts":{"start":"cross-env PORT=10888 react-scripts start","build":"react-scripts build"},"keywords":[],"author":"Dmitry Smirnov <demonzarov@ya.ru>","license":"MIT","devDependencies":{"cross-env":"^5.2.1","react-hot-loader":"^4.12.18","react-scripts":"^3.2.0"},"dependencies":{"@vkontakte/icons":"^1.11.3","@vkontakte/mvk-mini-apps-scroll-helper":"^1.2.0","@vkontakte/vk-connect":"^1.6.9","@vkontakte/vkui":"^2.33.2","babel-eslint":"^10.0.3","chalk":"^2.4.2","core-js":"^3.4.1","eruda":"^1.10.3","fromentries":"^1.2.0","moment":"^2.24.0","prop-types":"^15.7.2","react":"^16.12.0","react-dom":"^16.12.0","url-search-params-polyfill":"^7.0.0"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},297:function(e,t,a){e.exports=a(539)},377:function(e,t,a){},539:function(e,t,a){"use strict";a.r(t);a(298),a(325),a(327),a(328),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(350),a(351),a(352),a(353),a(354),a(355),a(356),a(357),a(358),a(359),a(360),a(361),a(362),a(363),a(364),a(365),a(366),a(367);var s=a(0),r=a.n(s),n=a(120),o=a.n(n),i=a(19),c=a.n(i),l=a(63),m=a(43),_=a(191),h=a(192),p=a(215),u=a(193),d=a(58),g=a(216),k=a(20),f=a.n(k),v=a(213),b=a.n(v),E=a(209),y=a.n(E),S=a(210),w=a.n(S),x=a(211),N=a.n(x),O=a(49),j=a.n(O),C=a(57),M=a.n(C),D=a(208),Y=a.n(D),P=a(87),H=a.n(P),A=a(89),T=a.n(A),B=a(212),V=a.n(B),K=a(121),W=a.n(K),I=a(194),F=a.n(I),R=(a(376),a(377),a(59)),U=a.n(R),J=a(50),L=a.n(J),z=a(48),q=a.n(z),G=a(40),Q=a.n(G),X=a(195),Z=a.n(X),$=a(196),ee=a.n($),te=a(197),ae=a.n(te),se=a(198),re=a.n(se),ne=a(199),oe=a.n(ne),ie=a(200),ce=a.n(ie),le=function(e){var t=e.id,a=e.this,s=e.connect;return r.a.createElement(q.a,{id:t},r.a.createElement(Q.a,null,"\u0411\u0440\u043e\u0441\u0430\u0439 \u0442\u0430\u0431\u0430\u043a!"),""===a.state.last_smoke_at&&r.a.createElement(U.a,{title:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!"},r.a.createElement(M.a,null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445")),r.a.createElement(U.a,null,r.a.createElement(M.a,null,r.a.createElement("div",{className:"stat"},r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u041d\u0435 \u0432\u044b\u043a\u0443\u0440\u0435\u043d\u043e",r.a.createElement("br",null),"\u0441\u0438\u0433\u0430\u0440\u0435\u0442"),r.a.createElement("span",{className:"digit"},a.state.stat.not_smoked_cigarettes),r.a.createElement("span",{className:"description"},a.plural_form(a.state.stat.not_smoked_cigarettes,["\u0448\u0442\u0443\u043a\u0430","\u0448\u0442\u0443\u043a\u0438","\u0448\u0442\u0443\u043a"]))),r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u041d\u0435 \u043a\u0443\u0440\u0438\u0442\u0435",r.a.createElement("br",null),"\u0443\u0436\u0435"),r.a.createElement("span",{className:"digit"},a.state.stat.not_smoked_days),r.a.createElement("span",{className:"description"},a.plural_form(a.state.stat.not_smoked_days,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])),r.a.createElement("span",{className:"description"},a.state.stat.countdown)),r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u0421\u044d\u043a\u043e\u043d\u043e\u043c\u043b\u0435\u043d\u043e",r.a.createElement("br",null),"\u0434\u0435\u043d\u0435\u0433"),r.a.createElement("span",{className:"digit"},a.number_format(a.state.stat.money_saved)),r.a.createElement("span",{className:"description"},a.plural_form(a.state.stat.money_saved,["\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439"]))),r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u0421\u044d\u043a\u043e\u043d\u043e\u043c\u043b\u0435\u043d\u043e",r.a.createElement("br",null),"\u0432\u0440\u0435\u043c\u0435\u043d\u0438"),r.a.createElement("span",{className:"digit"},a.state.stat.time_saved_hours),r.a.createElement("span",{className:"description"},a.plural_form(a.state.stat.time_saved_hours,["\u0447\u0430\u0441","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441\u043e\u0432"]))),r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e",r.a.createElement("br",null),"\u0441\u043c\u043e\u043b\u044b"),r.a.createElement("span",{className:"digit"},a.state.stat.not_received_tar),r.a.createElement("span",{className:"description"},"\u0433\u0440.")),r.a.createElement("div",{className:"block"},r.a.createElement("span",{className:"name"},"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e",r.a.createElement("br",null),"\u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430"),r.a.createElement("span",{className:"digit"},a.state.stat.not_received_nicotine),r.a.createElement("span",{className:"description"},"\u043c\u0433."))))),r.a.createElement(U.a,null,r.a.createElement(L.a,{onClick:function(){return a.openSmoke()},before:r.a.createElement(ee.a,{width:16,height:16})},"\u0412\u0440\u0435\u0434 \u043a\u0443\u0440\u0435\u043d\u0438\u044f"),r.a.createElement(L.a,{onClick:function(){return a.openHealth()},before:r.a.createElement(oe.a,{width:16,height:16})},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043c\u0430"),s.supports("VKWebAppShowStoryBox")&&r.a.createElement(L.a,{onClick:function(){return a.publickStory()},before:r.a.createElement(re.a,{width:16,height:16})},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),r.a.createElement(H.a,{href:"https://vk.com/brosay_tabak1",target:"_blank"},r.a.createElement(L.a,{before:r.a.createElement(ce.a,{width:16,height:16})},"\u041c\u043e\u0442\u0438\u0432\u0430\u0446\u0438\u044f")),r.a.createElement(L.a,{onClick:function(){return a.openSettings()},before:r.a.createElement(Z.a,{width:16,height:16})},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(L.a,{onClick:function(){return a.setActiveModal("about_app")},before:r.a.createElement(ae.a,{width:16,height:16})},"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438")),a.state.text&&r.a.createElement(U.a,null,r.a.createElement(M.a,null,a.state.text)),a.state.snackbar)},me=a(122),_e=a.n(me),he=a(202),pe=a.n(he),ue=a(42),de=a.n(ue),ge=a(28),ke=a.n(ge),fe=a(203),ve=a.n(fe),be=a(201),Ee=a.n(be),ye=a(62),Se=a.n(ye),we=function(e){var t=e.id,a=e.this;return r.a.createElement(q.a,{id:t},r.a.createElement(Q.a,{left:r.a.createElement(j.a,{onClick:function(){return a.goBack()}},r.a.createElement(Se.a,null))},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(U.a,null,r.a.createElement(pe.a,null,r.a.createElement(_e.a,{top:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0438\u0433\u0430\u0440\u0435\u0442\u0430"},r.a.createElement(de.a,{type:"date",name:"last_smoke_at_date_search",value:a.state.last_smoke_at_date_search,onChange:a.onChange,placeholder:"\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433",required:!0}),r.a.createElement(de.a,{type:"time",name:"last_smoke_at_time_search",value:a.state.last_smoke_at_time_search,onChange:a.onChange,placeholder:"00:00:00",required:!0})),r.a.createElement(ke.a,{onClick:a.setActualDatetime,className:"set-actual-datetime"},r.a.createElement("span",{className:"set-actual-datetime"},r.a.createElement(Ee.a,null)," \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f")),r.a.createElement(_e.a,{top:"\u0421\u0442\u0430\u0436 \u043a\u0443\u0440\u0438\u043b\u044c\u0449\u0438\u043a\u0430 (\u043b\u0435\u0442 \u0438 \u043c\u0435\u0441\u044f\u0446\u0435\u0432)"},r.a.createElement(de.a,{type:"number",name:"years_of_smoking_search",value:a.state.years_of_smoking_search,onChange:a.onChange,placeholder:"\u041b\u0435\u0442"}),r.a.createElement(de.a,{type:"number",name:"months_of_smoking_search",value:a.state.months_of_smoking_search,onChange:a.onChange,placeholder:"\u041c\u0435\u0441\u044f\u0446\u0435\u0432"})),r.a.createElement(de.a,{top:"\u0421\u0438\u0433\u0430\u0440\u0435\u0442 \u0432 \u0434\u0435\u043d\u044c",type:"number",placeholder:"20",name:"cigarettes_per_day_search",value:a.state.cigarettes_per_day_search,onChange:a.onChange}),r.a.createElement(de.a,{top:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0430\u0447\u043a\u0438",type:"number",placeholder:"150",name:"pack_cost_search",value:a.state.pack_cost_search,onChange:a.onChange}),r.a.createElement(de.a,{top:"\u0421\u043c\u043e\u043b\u044b \u0432 \u043f\u0430\u0447\u043a\u0435, \u043c\u0433/\u0441\u0438\u0433",placeholder:"5",type:"number",step:"0.1",name:"tar_per_cigarette_search",value:a.state.tar_per_cigarette_search,onChange:a.onChange}),r.a.createElement(de.a,{top:"\u041d\u0438\u043a\u043e\u0442\u0438\u043d\u0430 \u0432 \u043f\u0430\u0447\u043a\u0435, \u043c\u0433/\u0441\u0438\u0433",placeholder:"0,5",type:"number",step:"0.1",name:"nicotine_per_cigarette_search",value:a.state.nicotine_per_cigarette_search,onChange:a.onChange}),r.a.createElement(ve.a,{size:"xl",onClick:function(){return a.handleSubmit()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},xe=a(41),Ne=a.n(xe),Oe=a(88),je=a.n(Oe),Ce=function(e){var t=e.id,a=e.this;return r.a.createElement(q.a,{id:t},r.a.createElement(Q.a,{left:r.a.createElement(j.a,{onClick:function(){return a.goBack()}},r.a.createElement(Se.a,null))},"\u0412\u0440\u0435\u0434 \u043a\u0443\u0440\u0435\u043d\u0438\u044f"),r.a.createElement(je.a,{className:"harm"},r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u041a\u0443\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},r.a.createElement("span",{className:"digit"},a.state.harm_stat.smoked_days," ",a.plural_form(a.state.harm_stat.smoked_days,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])),r.a.createElement("span",{className:"description"},"\u0421\u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b \u044f\u0432\u043b\u044f\u043b\u0438\u0441\u044c/\u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u043e\u0432\u044b\u043c \u043d\u0430\u0440\u043a\u043e\u043c\u0430\u043d\u043e\u043c."))),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u0412\u044b\u043a\u0443\u0440\u0435\u043d\u043e \u0441\u0438\u0433\u0430\u0440\u0435\u0442"},r.a.createElement("span",{className:"digit"},a.number_format(a.state.harm_stat.smoked_cigarettes)," ",a.plural_form(a.state.harm_stat.smoked_cigarettes,["\u0448\u0442\u0443\u043a\u0430","\u0448\u0442\u0443\u043a\u0438","\u0448\u0442\u0443\u043a"])),r.a.createElement("span",{className:"description"},"\u041e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441 \u043e\u043a\u0443\u0440\u043a\u043e\u0432 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0431\u044b ",a.state.harm_stat.cigarette_butts_weight," ",a.plural_form(a.state.harm_stat.cigarette_butts_weight,["\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c","\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c\u0430","\u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c"]),", \u043d\u0430 \u0440\u0430\u0437\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 10 \u043b\u0435\u0442."))),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0434\u0435\u043d\u0435\u0433"},r.a.createElement("span",{className:"digit"},a.number_format(a.state.harm_stat.money_spent)," ",a.plural_form(a.state.harm_stat.money_spent,["\u0440\u0443\u0431\u043b\u044c","\u0440\u0443\u0431\u043b\u044f","\u0440\u0443\u0431\u043b\u0435\u0439"])),r.a.createElement("span",{className:"description"},"\u041d\u0430 \u044d\u0442\u0438 \u0434\u0435\u043d\u044c\u0433\u0438 \u0432\u044b \u043c\u043e\u0433\u043b\u0438 \u0431\u044b \u043a\u0443\u043f\u0438\u0442\u044c ",a.state.harm_stat.netflix_sub_months," ",a.plural_form(a.state.harm_stat.netflix_sub_months,["\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430","\u043c\u0435\u0441\u044f\u0446\u0435\u0432"])," \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u043d\u0430 Netflix."))),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},r.a.createElement("span",{className:"digit"},a.state.harm_stat.hours_spent," \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("span",{className:"description"},"\u0417\u0430 \u0442\u0430\u043a\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b \u043c\u043e\u0433\u043b\u0438 ",a.state.harm_stat.marathons," \u0440\u0430\u0437 \u043f\u0440\u043e\u0431\u0435\u0436\u0430\u0442\u044c \u043c\u0430\u0440\u0430\u0444\u043e\u043d (42.2 \u043a\u043c) \u0432 \u0441\u0440\u0435\u0434\u043d\u0435\u043c \u0442\u0435\u043c\u043f\u0435 (7 \u043c\u0438\u043d/\u043a\u043c)."))),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0441\u043c\u043e\u043b\u044b"},r.a.createElement("span",{className:"digit"},a.state.harm_stat.received_tar," \u0433\u0440."),r.a.createElement("span",{className:"description"},"\u041d\u0438\u0442\u0440\u043e\u0437\u0430\u043c\u0438\u043d\u044b \u2013 \u0430\u043b\u043a\u0430\u043b\u043e\u0438\u0434\u044b \u0442\u0430\u0431\u0430\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u043c\u0438 \u0441\u043c\u043e\u043b\u044b \u2013 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043c\u043e\u043b\u0435\u043a\u0443\u043b \u0414\u041d\u041a."))),r.a.createElement(ke.a,null,r.a.createElement(Ne.a,{title:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430"},r.a.createElement("span",{className:"digit"},a.state.harm_stat.received_nicotine," \u043c\u0433."),r.a.createElement("span",{className:"description"},"\u0422\u0430\u043a\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u0441\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0440\u0430\u0432\u0438\u0442\u044c ",a.state.harm_stat.rabbits," ",a.plural_form(a.state.harm_stat.rabbits,["\u043a\u0440\u043e\u043b\u0438\u043a\u0430","\u043a\u0440\u043e\u043b\u0438\u043a\u043e\u0432","\u043a\u0440\u043e\u043b\u0438\u043a\u043e\u0432"]),".")))))},Me=a(204),De=a.n(Me),Ye=function(e){var t=e.id,a=e.this;return r.a.createElement(q.a,{id:t},r.a.createElement(Q.a,{left:r.a.createElement(j.a,{onClick:function(){return a.goBack()}},r.a.createElement(Se.a,null))},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u043c"),r.a.createElement(je.a,{className:"health"},Object.keys(a.state.health_list).map((function(e,t){return r.a.createElement(ke.a,{key:t},r.a.createElement(Ne.a,{title:""},r.a.createElement("span",{className:"title"},a.state.health_list[e].title),r.a.createElement("span",{className:"text"},a.state.health_list[e].text),100!==a.state.health_list[e].progress&&r.a.createElement("span",{className:"progress-text"},a.state.health_list[e].progress,"%"),100!==a.state.health_list[e].progress&&r.a.createElement(De.a,{value:a.state.health_list[e].progress})))}))))},Pe=a(205),He=a(206),Ae=a.n(He),Te=(a(394),a(207)),Be=a.n(Te);a(398);function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).goBack=function(){var e=Object(m.a)(a.state.history);e.pop();var t=e[e.length-1];"main"===t&&c.a.send("VKWebAppDisableSwipeBack"),a.setState({activeModal:null}),a.setState({history:e,activePanel:t})},a.goForward=function(e){var t=Object(m.a)(a.state.history);t.push(e),"main"===a.state.activePanel&&c.a.send("VKWebAppEnableSwipeBack"),a.setState({history:t,activePanel:e})},a.state=Object(l.a)({error:"",object_error:[],activeModal:null,modalHistory:[],text:"",snackbar:null,image_url:"",last_smoke_at:"",last_smoke_at_search:"",last_smoke_at_time_search:"",last_smoke_at_time:"",last_smoke_at_date:"",last_smoke_at_date_search:"",years_of_smoking:"",years_of_smoking_search:"",months_of_smoking:"",months_of_smoking_search:"",cigarettes_per_day:"",cigarettes_per_day_search:"",pack_cost:"",pack_cost_search:"",tar_per_cigarette:"",tar_per_cigarette_search:"",nicotine_per_cigarette:"",nicotine_per_cigarette_search:"",stat:{not_smoked_cigarettes:0,not_smoked_days:0,money_saved:0,not_received_tar:0,not_received_nicotine:0,time_saved_hours:0,life_extension_days:0},harm_stat:{smoked_days:0,smoked_cigarettes:0,money_spent:0,hours_spent:0,received_tar:0,received_nicotine:0,cigarette_butts_weight:0,netflix_sub_months:0,marathons:0,rabbits:0},activePanel:"home",history:["home"],is_support:!0,backend_url:"https://brosaytabak.poprosche.ru/",health_list:[],popout:r.a.createElement(T.a,null)},"object_error",{cigarettes_per_day:""}),a.modalBack=function(){a.setActiveModal(a.state.modalHistory[a.state.modalHistory.length-2])},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.onChange=a.onChange.bind(Object(d.a)(a)),a.closePopout=a.closePopout.bind(Object(d.a)(a)),a.setActualDatetime=a.setActualDatetime.bind(Object(d.a)(a)),a.state.health_list={1:{title:"1 \u0447\u0430\u0441",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u0440\u043e\u0432\u044f\u043d\u043e\u0433\u043e \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043f\u0443\u043b\u044c\u0441\u0430",hours:1,progress:0},2:{title:"2 \u0447\u0430\u0441\u0430",text:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0446\u0438\u0440\u043a\u0443\u043b\u044f\u0446\u0438\u0438 \u043a\u0440\u043e\u0432\u0438",hours:2,progress:0},4:{title:"4 \u0447\u0430\u0441\u0430",text:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u044b \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0441\u0442\u0435\u0439 \u043a \u043d\u043e\u0440\u043c\u0435",hours:4,progress:0},6:{title:"6 \u0447\u0430\u0441\u043e\u0432",text:"\u041d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0445 \u0438\u0437 \u0440\u043e\u0442\u043e\u0432\u043e\u0439 \u043f\u043e\u043b\u043e\u0441\u0442\u0438 \u043c\u0435\u043d\u0435\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d",hours:6,progress:0},8:{title:"8 \u0447\u0430\u0441\u043e\u0432",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0440\u043e\u0432\u043d\u044f \u043a\u0438\u0441\u043b\u043e\u0440\u043e\u0434\u0430 (\u041e2) \u0432 \u043a\u0440\u043e\u0432\u0438",hours:8,progress:0},10:{title:"10 \u0447\u0430\u0441\u043e\u0432",text:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043a\u0440\u043e\u0432\u044f\u043d\u044b\u0445 \u0442\u0435\u043b\u0435\u0446",hours:10,progress:0},12:{title:"12 \u0447\u0430\u0441\u043e\u0432",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0440\u043e\u0432\u043d\u044f \u0443\u0433\u0430\u0440\u043d\u043e\u0433\u043e \u0433\u0430\u0437\u0430 (\u0421\u041e) \u0432 \u043a\u0440\u043e\u0432\u0438",hours:12,progress:0},24:{title:"24 \u0447\u0430\u0441\u0430",text:"\u0421\u043d\u0438\u0436\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u043a\u0430 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0438\u043d\u0444\u0430\u0440\u043a\u0442\u0430 \u0438\u043b\u0438 \u0438\u043d\u0441\u0443\u043b\u044c\u0442\u0430",hours:24,progress:0},36:{title:"36 \u0447\u0430\u0441\u043e\u0432",text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043a\u0443\u0441\u0430 \u0438 \u043e\u0431\u043e\u043d\u044f\u043d\u0438\u044f",hours:36,progress:0},48:{title:"2 \u0434\u043d\u044f",text:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430 \u0432 \u043a\u0440\u043e\u0432\u0438",hours:48,progress:0},72:{title:"3 \u0434\u043d\u044f",text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u044b\u0445\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043b\u0435\u0433\u043a\u0438\u0445",hours:72,progress:0},96:{title:"4 \u0434\u043d\u044f",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u0435\u043c\u043e\u0441\u0442\u0438 \u043a\u0440\u043e\u0432\u0438, \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u043a\u0430 \u0442\u0440\u043e\u043c\u0431\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f",hours:96,progress:0},120:{title:"5 \u0434\u043d\u0435\u0439",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0436\u0435\u043b\u0443\u0434\u043a\u0430 \u0438 \u043f\u043e\u0434\u0436\u0435\u043b\u0443\u0434\u043e\u0447\u043d\u043e\u0439 \u0436\u0435\u043b\u0435\u0437\u044b",hours:120,progress:0},144:{title:"6 \u0434\u043d\u0435\u0439",text:"\u041f\u0435\u0440\u0435\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043a\u043b\u0435\u0442\u043e\u043a \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043c\u0430 \u043d\u0430 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u0435\u0437 \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430",hours:144,progress:0},168:{title:"1 \u043d\u0435\u0434\u0435\u043b\u044f",text:"\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u043e\u0431\u0449\u0435\u0433\u043e \u0442\u043e\u043d\u0443\u0441\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043c\u0430",hours:168,progress:0},336:{title:"2 \u043d\u0435\u0434\u0435\u043b\u0438",text:"\u0418\u0441\u0447\u0435\u0437\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u043a\u0430\u0448\u043b\u044f \u0438 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u043a\u0440\u043e\u0442\u044b",hours:336,progress:0},504:{title:"3 \u043d\u0435\u0434\u0435\u043b\u0438",text:"\u0418\u0441\u0447\u0435\u0437\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0438\u043a\u043e\u0442\u0438\u043d\u0430",hours:504,progress:0},744:{title:"1 \u043c\u0435\u0441\u044f\u0446",text:"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043a\u0440\u043e\u0432\u043e\u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043c\u0443",hours:744,progress:0},1488:{title:"2 \u043c\u0435\u0441\u044f\u0446\u0430",text:"\u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u043a\u0438\u0445 \u0441\u043e\u0441\u0443\u0434\u043e\u0432, \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438\u0445 \u0441\u0442\u0435\u043d\u043e\u043a",hours:1488,progress:0},2232:{title:"3 \u043c\u0435\u0441\u044f\u0446\u0430",text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043a\u0430\u043d\u0435\u0439 \u0431\u0440\u043e\u043d\u0445\u043e\u0432 \u0438 \u043b\u0435\u0433\u043a\u0438\u0445, \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u0438\u0445 \u043e\u0431\u044a\u0435\u043c\u0430",hours:2232,progress:0},2976:{title:"4 \u043c\u0435\u0441\u044f\u0446\u0430",text:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0435\u0442\u043e\u043a \u043a\u0440\u043e\u0432\u0438",hours:2976,progress:0},3720:{title:"5 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u041d\u0430\u0447\u0430\u043b\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043b\u0435\u0442\u043e\u043a \u043f\u0435\u0447\u0435\u043d\u0438",hours:3720,progress:0},4464:{title:"6 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0435\u0442\u043e\u043a \u043a\u043e\u0436\u0438",hours:4464,progress:0},5208:{title:"7 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0445 \u0441\u0432\u044f\u0437\u043e\u043a, \u0438\u0441\u0447\u0435\u0437\u043d\u043e\u0432\u0435\u043d\u0438\u0435 \u0445\u0440\u0438\u043f\u043e\u0442\u044b \u0433\u043e\u043b\u043e\u0441\u0430",hours:5208,progress:0},5952:{title:"8 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u041e\u0447\u0438\u0449\u0435\u043d\u0438\u0435 \u0437\u0443\u0431\u043e\u0432 \u043e\u0442 \u0436\u0435\u043b\u0442\u043e\u0433\u043e \u043d\u0430\u043b\u0435\u0442\u0430",hours:5952,progress:0},6696:{title:"9 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u0435 \u0440\u0438\u0441\u043a\u0430 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u0443\u0434\u043d\u044b\u0445 \u0438 \u0438\u043d\u0444\u0435\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0439",hours:6696,progress:0},7440:{title:"10 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0447\u0430\u0442\u044c \u0437\u0434\u043e\u0440\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0431\u0435\u043d\u043a\u0430 \u0442\u0430\u043a\u0430\u044f \u0436\u0435, \u043a\u0430\u043a \u0443 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043a\u0443\u0440\u0438\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",hours:7440,progress:0},8184:{title:"11 \u043c\u0435\u0441\u044f\u0446\u0435\u0432",text:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u0441\u043f\u043e\u0440\u0442\u043e\u043c \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439",hours:8184,progress:0},8928:{title:"1 \u0433\u043e\u0434",text:"\u0421\u043d\u0438\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u0440\u0438\u0441\u043a\u0430 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u043a\u0430\u0440\u0434\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0431\u043e\u043b\u0435\u0432\u0430\u043d\u0438\u0439",hours:8928,progress:0},17856:{title:"2 \u0433\u043e\u0434\u0430",text:"\u0420\u0438\u0441\u043a \u0441\u0435\u0440\u0434\u0435\u0447\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0430 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0440\u0438\u0441\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043a\u0443\u0440\u0438\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",hours:17856,progress:0},26784:{title:"3 \u0433\u043e\u0434\u0430",text:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u044f\u0433\u043a\u0438\u0445 \u0442\u043a\u0430\u043d\u0435\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043c\u0430",hours:26784,progress:0},35712:{title:"4 \u0433\u043e\u0434\u0430",text:"\u0420\u0438\u0441\u043a \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0440\u0430\u043a\u0430 \u0440\u043e\u0442\u043e\u0432\u043e\u0439 \u043f\u043e\u043b\u043e\u0441\u0442\u0438, \u0433\u043e\u0440\u043b\u0430 \u0438\u043b\u0438 \u043f\u0438\u0449\u0435\u0432\u043e\u0434\u0430 \u0441\u043d\u0438\u0436\u0435\u043d\u044b \u0432 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430",hours:35712,progress:0},44640:{title:"5 \u043b\u0435\u0442",text:"\u0420\u0438\u0441\u043a \u0438\u043d\u0441\u0443\u043b\u044c\u0442\u0430 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0440\u0438\u0441\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043a\u0443\u0440\u0438\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",hours:44640,progress:0},89280:{title:"10 \u043b\u0435\u0442",text:"\u0420\u0438\u0441\u043a \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f \u0440\u0430\u043a\u0430 \u043b\u0435\u0433\u043a\u0438\u0445 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0440\u0438\u0441\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043a\u0443\u0440\u0438\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",hours:89280,progress:0},133920:{title:"15 \u043b\u0435\u0442",text:"\u0420\u0438\u0441\u043a \u0438\u043d\u0444\u0430\u0440\u043a\u0442\u0430 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0440\u0438\u0441\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043a\u0443\u0440\u0438\u0432\u0448\u0435\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",hours:133920,progress:0}},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(m.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"publickStory",value:function(){var e=this;this.setState({popout:r.a.createElement(T.a,null)});var t=new URL(window.location.href).search.substring(1),a=this.state.backend_url+"story?"+t;fetch(a,{mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t?(e.setState({popout:null}),c.a.send("VKWebAppShowStoryBox",{background_type:"image",url:t.image_url}),console.log(t.image_url)):console.log(t)}))}},{key:"onChange",value:function(e){var t=e.currentTarget.name,a=e.currentTarget.value;this.setState(Object(l.a)({},t,a)),"last_smoke_at_time_search"===t&&(t="last_smoke_at_serch",a=this.state.last_smoke_at_date_search+"T"+a,this.setState(Object(l.a)({},t,a))),"last_smoke_at_date_search"===t&&(t="last_smoke_at_search",a=a+"T"+this.state.last_smoke_at_time_search,this.setState(Object(l.a)({},t,a)))}},{key:"openSettings",value:function(){window.history.pushState({panel:"settings"},"settings"),this.setState({activePanel:"settings",history:[].concat(Object(m.a)(this.state.history),["settings"])})}},{key:"openSmoke",value:function(){window.history.pushState({panel:"smoke"},"smoke"),this.setState({activePanel:"smoke",history:[].concat(Object(m.a)(this.state.history),["smoke"])})}},{key:"openHealth",value:function(){window.history.pushState({panel:"health"},"health"),this.setState({activePanel:"health",history:[].concat(Object(m.a)(this.state.history),["health"])})}},{key:"setActualDatetime",value:function(){var e=f()().format("YYYY-MM-DD"),t=f()().format("HH:mm"),a=f()().format("YYYY-MM-DDTHH:mm:ss");return this.setState({last_smoke_at_search:a,last_smoke_at_date_search:e,last_smoke_at_time_search:t}),a}},{key:"plural_form",value:function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][Math.min(e%10,5)]]}},{key:"number_format",value:function(e){return new Intl.NumberFormat("ru-RU").format(e)}},{key:"handleSubmit",value:function(){var e=this;this.setState({popout:r.a.createElement(T.a,null)});var t=new URL(window.location.href),a=new URLSearchParams(t.search.substring(1)),s=Be()(a),n=Object.assign(this.state,s),o=this.state.backend_url+"set";fetch(o,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({last_smoke_at:n.last_smoke_at_search,years_of_smoking:n.years_of_smoking_search,months_of_smoking:n.months_of_smoking_search,cigarettes_per_day:n.cigarettes_per_day_search,pack_cost:n.pack_cost_search,tar_per_cigarette:n.tar_per_cigarette_search,nicotine_per_cigarette:n.nicotine_per_cigarette_search,vk_access_token_settings:s.vk_access_token_settings,vk_are_notifications_enabled:s.vk_are_notifications_enabled,vk_group_id:s.vk_group_id,vk_is_app_user:s.vk_is_app_user,vk_is_favorite:s.vk_is_favorite,vk_language:s.vk_language,vk_platform:s.vk_platform,vk_ref:s.vk_ref,vk_app_id:s.vk_app_id,vk_user_id:s.vk_user_id,sign:s.sign})}).then((function(e){return e.json()})).then((function(t){console.log(t),"ok"===t.status?(e.goBack(),e.setState({popout:null,last_smoke_at:e.state.last_smoke_at_search,years_of_smoking:e.state.years_of_smoking_search,months_of_smoking:e.state.months_of_smoking_search,cigarettes_per_day:e.state.cigarettes_per_day_search,pack_cost:e.state.pack_cost_search,tar_per_cigarette:e.state.tar_per_cigarette_search,nicotine_per_cigarette:e.state.nicotine_per_cigarette_search})):(e.setState({error:t.error}),e.ErrorAlert())}))}},{key:"sendToBackend",value:function(e){console.log(e);var t=this.state.backend_url+"log";fetch(t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"ErrorAlert",value:function(){this.setState({popout:r.a.createElement(Y.a,{actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,style:"cancel"}],onClose:this.closePopout},r.a.createElement("h2",null,"Error"),r.a.createElement("p",null,this.state.error))})}},{key:"closePopout",value:function(){this.setState({popout:null})}},{key:"back",value:function(e){e.state?this.setState({activePanel:e.state.panel}):(this.setState({activePanel:"home",search:""}),window.history.pushState({panel:"home"},"home"))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",(function(t){return t.preventDefault()&e.back(t)})),window.history.pushState({panel:"home"},"home"),c.a.subscribe((function(e){var t=e.detail,a=t.type,s=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=s.scheme?s.scheme:"client_light",document.body.attributes.setNamedItem(r),"bright_light"===s.scheme?c.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"}):"space_gray"===s.scheme?c.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"}):"client_light"===s.scheme?c.a.send("VKWebAppSetViewSettings",{status_bar_style:"dark"}):"client_dark"===s.scheme&&c.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"})}}));var t=new URL(window.location.href).search.substring(1),a=this.state.backend_url+"get?"+t;fetch(a,{mode:"cors",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){null===t.user.last_smoke_at||""===t.user.last_smoke_at?(window.history.pushState({panel:"settings"},"settings"),e.setState({activePanel:"settings",history:[].concat(Object(m.a)(e.state.history),["settings"]),popout:null})):(e.setState(t.user),console.log(t.user),e.setState({popout:null}),e.setState({years_of_smoking_search:t.user.years_of_smoking,months_of_smoking_search:t.user.months_of_smoking,cigarettes_per_day_search:t.user.cigarettes_per_day,pack_cost_search:t.user.pack_cost,tar_per_cigarette_search:t.user.tar_per_cigarette,nicotine_per_cigarette_search:t.user.nicotine_per_cigarette,last_smoke_at_search:f()(t.user.last_smoke_at).format("YYYY-MM-DDTHH:mm:ss"),last_smoke_at_date_search:f()(t.user.last_smoke_at).format("YYYY-MM-DD"),last_smoke_at_time_search:f()(t.user.last_smoke_at).format("HH:mm")}),e.setState({last_smoke_at:f()(t.user.last_smoke_at).format("YYYY-MM-DDTHH:mm:ss"),last_smoke_at_date:f()(t.user.last_smoke_at).format("YYYY-MM-DD"),last_smoke_at_time:f()(t.user.last_smoke_at).format("HH:mm")})),setInterval((function(){if(null===e.state.last_smoke_at||""===e.state.last_smoke_at)window.history.pushState({panel:"settings"},"settings"),e.setState({activePanel:"settings",history:[].concat(Object(m.a)(e.state.history),["settings"]),popout:null});else{var t=new Date(f()(e.state.last_smoke_at).format("YYYY-MM-DDTHH:mm:ss")).getTime(),a=new Date(f()().format("YYYY-MM-DDTHH:mm:ss")).getTime(),s=f.a.duration(a-t,"milliseconds"),r=Math.floor(s.asDays());e.setState({stat:Ke({},e.state.stat,{not_smoked_days:r})});var n=f.a.utc(s.as("milliseconds")).format("HH:mm:ss");e.setState({stat:Ke({},e.state.stat,{countdown:n})});var o=e.state.cigarettes_per_day/1440,i=s.asMinutes(),c=Math.round(o*i);e.setState({stat:Ke({},e.state.stat,{not_smoked_cigarettes:c})});var l=e.state.pack_cost/20*e.state.cigarettes_per_day/1440;e.setState({stat:Ke({},e.state.stat,{money_saved:Math.round(l*i)})}),e.setState({stat:Ke({},e.state.stat,{not_received_tar:(c*e.state.tar_per_cigarette/1e3).toFixed(1)})}),e.setState({stat:Ke({},e.state.stat,{not_received_nicotine:(c*e.state.nicotine_per_cigarette).toFixed(1)})});var _=4*c;e.setState({stat:Ke({},e.state.stat,{time_saved_hours:Math.floor(_/60)})});var h=30*(12*parseInt(e.state.years_of_smoking)+parseInt(e.state.months_of_smoking));e.setState({harm_stat:Ke({},e.state.harm_stat,{smoked_days:h})});var p=h*e.state.cigarettes_per_day;e.setState({harm_stat:Ke({},e.state.harm_stat,{smoked_cigarettes:p})});var u=h*e.state.pack_cost/20*e.state.cigarettes_per_day;e.setState({harm_stat:Ke({},e.state.harm_stat,{money_spent:u})});var d=Math.round(4*p/60);e.setState({harm_stat:Ke({},e.state.harm_stat,{hours_spent:d})});var g=(h*e.state.cigarettes_per_day*e.state.tar_per_cigarette/1e3).toFixed(1);e.setState({harm_stat:Ke({},e.state.harm_stat,{received_tar:g})});var k=(h*e.state.cigarettes_per_day*e.state.nicotine_per_cigarette/1e3).toFixed(1);e.setState({harm_stat:Ke({},e.state.harm_stat,{received_nicotine:k})});var v=Math.round(.45*p/1e3);e.setState({harm_stat:Ke({},e.state.harm_stat,{cigarette_butts_weight:v})});var b=Math.floor(u/600);e.setState({harm_stat:Ke({},e.state.harm_stat,{netflix_sub_months:b})});var E=60*d,y=Math.floor(E/300);e.setState({harm_stat:Ke({},e.state.harm_stat,{marathons:y})});var S=Math.floor(k/.003);e.setState({harm_stat:Ke({},e.state.harm_stat,{rabbits:S})});var w=s.asHours();Object.keys(e.state.health_list).forEach((function(t,a){var s=0;s=w-t>0?100:(w/t*100).toFixed(1),e.state.health_list[t].progress=s}))}}),1e3)}))}},{key:"render",value:function(){var e=r.a.createElement(y.a,{activeModal:this.state.activeModal},r.a.createElement(w.a,{id:"about_app",onClose:this.modalBack,header:r.a.createElement(N.a,{left:r.a.createElement(j.a,{onClick:this.modalBack},r.a.createElement(W.a,null))},r.a.createElement("span",{onClick:function(){return Ae.a.init()}},"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"))},r.a.createElement(M.a,{className:"about"},r.a.createElement("img",{className:"app-icon",src:F.a,alt:"\u0411\u0440\u043e\u0441\u0430\u0439 \u0442\u0430\u0431\u0430\u043a!"}),r.a.createElement("span",{className:"app-name"},"\u0411\u0440\u043e\u0441\u0430\u0439 \u0442\u0430\u0431\u0430\u043a!"),r.a.createElement("span",{className:"app-version"},"\u0412\u0435\u0440\u0441\u0438\u044f ",Pe.version),r.a.createElement("p",{className:"app-company"},"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 ",r.a.createElement(H.a,{href:"https://vk.com/poprosche.studio",target:"_blank"},"\u0421\u0442\u0443\u0434\u0438\u0438 \u041f\u043e\u043f\u0440\u043e\u0449\u0435"),".",r.a.createElement("br",null),"\u041f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0435 \u043a \u043d\u0430\u043c \u0437\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 VK Mini Apps, \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438 \u0447\u0430\u0442-\u0431\u043e\u0442\u043e\u0432."))));return r.a.createElement(V.a,{isWebView:!0},r.a.createElement(b.a,{id:"glav",activePanel:this.state.activePanel,modal:e,onSwipeBack:this.goBack,history:this.state.history,popout:this.state.popout},r.a.createElement(le,{id:"home",this:this,connect:c.a}),r.a.createElement(we,{id:"settings",this:this}),r.a.createElement(Ce,{id:"smoke",this:this}),r.a.createElement(Ye,{id:"health",this:this})))}}]),t}(r.a.Component),Ie=a(214),Fe=a.n(Ie),Re=a(123),Ue=document.getElementById("root");c.a.send("VKWebAppInit"),Object(Re.b)()===Re.a&&Fe()(Ue),o.a.render(r.a.createElement(We,null),Ue)}},[[297,1,2]]]);
//# sourceMappingURL=main.ab179a44.chunk.js.map