{"version":3,"sources":["img/app_icon_150.jpg","panels/home.js","panels/settings.js","panels/smoke.js","panels/health.js","App.js","index.js"],"names":["module","exports","home","id","props","this","connect","state","last_smoke_at","title","className","stat","not_smoked_cigarettes","plural_form","not_smoked_days","countdown","number_format","money_saved","time_saved_hours","not_received_tar","not_received_nicotine","onClick","openSmoke","before","width","height","openHealth","supports","publickStory","href","target","openSettings","setActiveModal","text","snackbar","settings","left","goBack","top","type","name","value","last_smoke_at_date_search","onChange","placeholder","required","last_smoke_at_time_search","setActualDatetime","years_of_smoking_search","months_of_smoking_search","cigarettes_per_day_search","pack_cost_search","step","tar_per_cigarette_search","nicotine_per_cigarette_search","size","handleSubmit","smoke","harm_stat","smoked_days","smoked_cigarettes","cigarette_butts_weight","money_spent","netflix_sub_months","hours_spent","marathons","received_tar","received_nicotine","rabbits","health","Object","keys","health_list","map","health_key","i","key","progress","App","history","pop","activePanel","length","send","setState","activeModal","goForward","push","error","object_error","modalHistory","image_url","last_smoke_at_search","last_smoke_at_time","last_smoke_at_date","years_of_smoking","months_of_smoking","cigarettes_per_day","pack_cost","tar_per_cigarette","nicotine_per_cigarette","life_extension_days","is_support","backend_url","popout","modalBack","bind","closePopout","1","hours","2","4","6","8","10","12","24","36","48","72","96","120","144","168","336","504","744","1488","2232","2976","3720","4464","5208","5952","6696","7440","8184","8928","17856","26784","35712","44640","89280","133920","indexOf","splice","app_params","URL","window","location","search","substring","url","fetch","mode","headers","then","response","json","data","background_type","console","log","event","currentTarget","pushState","panel","actual_date","moment","format","actual_time","actual_datetime","count","words","Math","min","Intl","NumberFormat","app_url","app_url_params","URLSearchParams","vk_params","fromEntries","body","assign","method","JSON","stringify","vk_access_token_settings","vk_are_notifications_enabled","vk_group_id","vk_is_app_user","vk_is_favorite","vk_language","vk_platform","vk_ref","vk_app_id","vk_user_id","sign","red","result","status","ErrorAlert","actions","autoclose","style","onClose","e","addEventListener","preventDefault","back","subscribe","detail","schemeAttribute","document","createAttribute","scheme","attributes","setNamedItem","user","setInterval","datetime_last_smoke","Date","getTime","datetime_now","not_smoked_ms","duration","floor","asDays","utc","as","cigarettes_per_minute","not_smoked_munutes","asMinutes","round","cost_per_minute","toFixed","time_saved_minutes","parseInt","minutes_spent","not_smoked_hours","asHours","forEach","percent","modal","header","eruda","init","src","IconApp","alt","packageJson","version","isWebView","onSwipeBack","React","Component","root","getElementById","platform","IOS","mVKMiniAppsScrollHelper","ReactDOM","render"],"mappings":"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","file":"static/js/main.ab179a44.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/app_icon_150.8e7e0804.jpg\";","// Settings\r\nimport React from 'react';\r\n// VKUI\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\r\n// Icons\r\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\r\nimport Icon24Privacy from '@vkontakte/icons/dist/24/privacy';\r\nimport Icon28InfoOutline from '@vkontakte/icons/dist/28/info_outline';\r\nimport Icon24Story from '@vkontakte/icons/dist/24/story';\r\nimport Icon16Like from '@vkontakte/icons/dist/16/like';\r\nimport Icon24Link from '@vkontakte/icons/dist/24/link';\r\n\r\nconst home = ({ id, this: props, connect}) => (\r\n    <Panel id={id}>\r\n            <PanelHeader>Бросай табак!</PanelHeader>\r\n\t\t\t\t\t{props.state.last_smoke_at === '' &&\r\n\t\t\t\t\t\t<Group title=\"Здравствуйте!\">\r\n\t\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\t\tПожалуйста, заполните все поля в настройках\r\n\t\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t }\r\n\r\n\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\t<div className=\"stat\">\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Не выкурено<br />сигарет</span>\r\n                                    <span className=\"digit\">{props.state.stat.not_smoked_cigarettes}</span>\r\n                                    <span className=\"description\">{props.plural_form(props.state.stat.not_smoked_cigarettes, ['штука', 'штуки', 'штук'])}</span>\r\n                                </div>\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Не курите<br />уже</span>\r\n                                    <span className=\"digit\">{props.state.stat.not_smoked_days}</span>\r\n                                    <span className=\"description\">{props.plural_form(props.state.stat.not_smoked_days, ['день', 'дня', 'дней'])}</span>\r\n                                    <span className=\"description\">{ props.state.stat.countdown }</span>\r\n                                </div>\r\n\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Сэкономлено<br />денег</span>\r\n                                    <span className=\"digit\">{props.number_format(props.state.stat.money_saved)}</span>\r\n                                    <span className=\"description\">{props.plural_form(props.state.stat.money_saved, ['рубль', 'рубля', 'рублей'])}</span>\r\n                                </div>\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Сэкономлено<br />времени</span>\r\n                                    <span className=\"digit\">{props.state.stat.time_saved_hours}</span>\r\n                                    <span className=\"description\">{props.plural_form(props.state.stat.time_saved_hours, ['час', 'часа', 'часов'])}</span>\r\n                                </div>\r\n\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Не получено<br />смолы</span>\r\n                                    <span className=\"digit\">{props.state.stat.not_received_tar}</span>\r\n                                    <span className=\"description\">гр.</span>\r\n                                </div>\r\n                                <div className=\"block\">\r\n                                    <span className=\"name\">Не получено<br />никотина</span>\r\n                                    <span className=\"digit\">{props.state.stat.not_received_nicotine}</span>\r\n                                    <span className=\"description\">мг.</span>\r\n                                </div>\r\n                            </div>\r\n\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t</Group>\r\n\r\n                    <Group>\r\n                        <CellButton\r\n                            onClick={() => props.openSmoke()}\r\n                            before={<Icon24Privacy width={16} height={16} />}\r\n                        >\r\n                            Вред курения\r\n                        </CellButton>\r\n\r\n                        <CellButton\r\n                            onClick={() => props.openHealth()}\r\n                            before={<Icon16Like width={16} height={16} />}\r\n                        >\r\n                            Восстановление организма\r\n                        </CellButton>\r\n\r\n                        {connect.supports(\"VKWebAppShowStoryBox\") &&\r\n                            <CellButton\r\n                                onClick={() => props.publickStory()}\r\n                                before={<Icon24Story width={16} height={16} />}\r\n                            >\r\n                                Поделиться в истории\r\n                            </CellButton>\r\n                         }\r\n\r\n                         <Link href=\"https://vk.com/brosay_tabak1\" target=\"_blank\">\r\n                             <CellButton\r\n                                 before={<Icon24Link width={16} height={16} />}\r\n                             >\r\n                                 Мотивация\r\n                             </CellButton>\r\n                         </Link>\r\n\r\n                        <CellButton\r\n                            onClick={() => props.openSettings()}\r\n                            before={<Icon24Settings width={16} height={16} />}\r\n                        >\r\n                            Настройки\r\n                        </CellButton>\r\n\r\n                        <CellButton\r\n                            onClick={() => props.setActiveModal('about_app')}\r\n                            before={<Icon28InfoOutline width={16} height={16} />}\r\n                        >\r\n                            О приложении\r\n                        </CellButton>\r\n                    </Group>\r\n\r\n                    {props.state.text && <Group><Div>{props.state.text}</Div></Group>}\r\n\t\t \t\t\t{props.state.snackbar}\r\n\t</Panel>\r\n);\r\n\r\nexport default home;\r\n","// Settings\r\nimport React from 'react';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\n// VKUI\r\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Input from '@vkontakte/vkui/dist/components/Input/Input';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\n// Icons\r\nimport Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\n\r\n\r\nconst settings = ({ id, this: props}) => (\r\n    <Panel id={id}>\r\n        <PanelHeader left={<HeaderButton onClick={() => props.goBack()}><Icon24BrowserBack /></HeaderButton>}>\r\n            Настройки\r\n        </PanelHeader>\r\n\r\n        <Group>\r\n    \t\t\t\t<FormLayout>\r\n                        <FormLayoutGroup top=\"Последняя сигарета\">\r\n                            <Input\r\n                                type=\"date\"\r\n                                name=\"last_smoke_at_date_search\"\r\n                                value={props.state.last_smoke_at_date_search}\r\n                                onChange={props.onChange}\r\n                                placeholder=\"дд.мм.гггг\"\r\n                                required\r\n                            />\r\n                            <Input\r\n                                type=\"time\"\r\n                                name=\"last_smoke_at_time_search\"\r\n                                value={props.state.last_smoke_at_time_search}\r\n                                onChange={props.onChange}\r\n                                placeholder=\"00:00:00\"\r\n                                required\r\n                            />\r\n                        </FormLayoutGroup>\r\n                        <Cell onClick={props.setActualDatetime} className=\"set-actual-datetime\">\r\n        \t                  <span className=\"set-actual-datetime\"><Icon20CalendarOutline /> Установить текущее время</span>\r\n                        </Cell>\r\n\r\n                        <FormLayoutGroup top=\"Стаж курильщика (лет и месяцев)\">\r\n                            <Input\r\n                                type=\"number\"\r\n                                name=\"years_of_smoking_search\"\r\n                                value={props.state.years_of_smoking_search}\r\n                                onChange={props.onChange}\r\n                                placeholder=\"Лет\"\r\n                            />\r\n                            <Input\r\n                                type=\"number\"\r\n                                name=\"months_of_smoking_search\"\r\n                                value={props.state.months_of_smoking_search}\r\n                                onChange={props.onChange}\r\n                                placeholder=\"Месяцев\"\r\n                            />\r\n                        </FormLayoutGroup>\r\n\r\n    \t    \t\t\t<Input\r\n    \t    \t\t\t\ttop=\"Сигарет в день\"\r\n    \t    \t\t\t\ttype=\"number\"\r\n    \t    \t\t\t\tplaceholder=\"20\"\r\n    \t\t\t\t\t\tname=\"cigarettes_per_day_search\"\r\n    \t                    value={props.state.cigarettes_per_day_search}\r\n    \t                    onChange={props.onChange}\r\n    \t    \t\t\t/>\r\n    \t    \t\t\t<Input\r\n    \t    \t\t\t\ttop=\"Стоимость пачки\"\r\n    \t    \t\t\t\ttype=\"number\"\r\n    \t    \t\t\t\tplaceholder=\"150\"\r\n    \t\t\t\t\t\tname=\"pack_cost_search\"\r\n    \t                    value={props.state.pack_cost_search}\r\n    \t                    onChange={props.onChange}\r\n    \t    \t\t\t/>\r\n    \t    \t\t\t<Input\r\n    \t    \t\t\t\ttop=\"Смолы в пачке, мг/сиг\"\r\n    \t    \t\t\t\tplaceholder=\"5\"\r\n    \t    \t\t\t\ttype=\"number\"\r\n    \t    \t\t\t\tstep=\"0.1\"\r\n    \t                    name=\"tar_per_cigarette_search\"\r\n    \t                    value={props.state.tar_per_cigarette_search}\r\n    \t                    onChange={props.onChange}\r\n    \t    \t\t\t/>\r\n    \t    \t\t\t<Input\r\n    \t    \t\t\t\ttop=\"Никотина в пачке, мг/сиг\"\r\n    \t    \t\t\t\tplaceholder=\"0,5\"\r\n    \t    \t\t\t\ttype=\"number\"\r\n    \t    \t\t\t\tstep=\"0.1\"\r\n    \t                    name=\"nicotine_per_cigarette_search\"\r\n    \t                    value={props.state.nicotine_per_cigarette_search}\r\n    \t                    onChange={props.onChange}\r\n    \t    \t\t\t/>\r\n    \t    \t\t\t<Button size=\"xl\" onClick={() => props.handleSubmit()}>Сохранить</Button>\r\n    \t    \t\t</FormLayout>\r\n        </Group>\r\n    </Panel>\r\n)\r\nexport default settings;\r\n","// Settings\r\nimport React from 'react';\r\n// VKUI\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport InfoRow from '@vkontakte/vkui/dist/components/InfoRow/InfoRow';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport List from '@vkontakte/vkui/dist/components/List/List';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\n// VK Icons\r\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\n\r\nconst smoke = ({ id, this: props}) => (\r\n<Panel id={id}>\r\n    <PanelHeader left={<HeaderButton onClick={() => props.goBack()}><Icon24BrowserBack /></HeaderButton>}>Вред курения</PanelHeader>\r\n    <List className=\"harm\">\r\n                        <Cell>\r\n                            <InfoRow title=\"Курите времени\">\r\n                                <span className=\"digit\">\r\n                                    {props.state.harm_stat.smoked_days} {props.plural_form(props.state.harm_stat.smoked_days, ['день', 'дня', 'дней'])}\r\n                                </span>\r\n                                <span className=\"description\">\r\n                                    Столько времени вы являлись/являетесь никотиновым наркоманом.\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                        <Cell>\r\n                            <InfoRow title=\"Выкурено сигарет\">\r\n                                <span className=\"digit\">\r\n                                    {props.number_format(props.state.harm_stat.smoked_cigarettes)} {props.plural_form(props.state.harm_stat.smoked_cigarettes, ['штука', 'штуки', 'штук'])}\r\n                                </span>\r\n                                <span className=\"description\">\r\n                                    Общий вес окурков составил бы {props.state.harm_stat.cigarette_butts_weight} {props.plural_form(props.state.harm_stat.cigarette_butts_weight, ['килограмм', 'килограмма', 'килограмм'])}, на разложение которых необходимо не менее 10 лет.\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                        <Cell>\r\n                            <InfoRow title=\"Потрачено денег\">\r\n                                <span className=\"digit\">\r\n                                    {props.number_format(props.state.harm_stat.money_spent)} {props.plural_form(props.state.harm_stat.money_spent, ['рубль', 'рубля', 'рублей'])}\r\n                                </span>\r\n                                <span className=\"description\">\r\n                                    На эти деньги вы могли бы купить {props.state.harm_stat.netflix_sub_months} {props.plural_form(props.state.harm_stat.netflix_sub_months, ['месяц', 'месяца', 'месяцев'])} подписки на Netflix.\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                        <Cell>\r\n                            <InfoRow title=\"Потрачено времени\">\r\n                                <span className=\"digit\">\r\n                                    {props.state.harm_stat.hours_spent} часов\r\n                                </span>\r\n                                <span className=\"description\">\r\n                                    За такое количество времени вы могли {props.state.harm_stat.marathons} раз пробежать марафон (42.2 км) в среднем темпе (7 мин/км).\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                        <Cell>\r\n                            <InfoRow title=\"Получено смолы\">\r\n                                <span className=\"digit\">\r\n                                    {props.state.harm_stat.received_tar} гр.\r\n                                </span>\r\n                                <span className=\"description\">\r\n                                    Нитрозамины – алкалоиды табака, которые являются составляющими смолы – вызывают изменения молекул ДНК.\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                        <Cell>\r\n                            <InfoRow title=\"Получено никотина\">\r\n                                <span className=\"digit\">\r\n                                    {props.state.harm_stat.received_nicotine} мг.\r\n                                    </span>\r\n                                <span className=\"description\">\r\n                                    Таким количеством никотина можно смертельно отравить {props.state.harm_stat.rabbits} {props.plural_form(props.state.harm_stat.rabbits, ['кролика', 'кроликов', 'кроликов'])}.\r\n                                </span>\r\n                            </InfoRow>\r\n                        </Cell>\r\n                    </List>\r\n\t\t\t\t</Panel>\r\n)\r\nexport default smoke;","// Settings\nimport React from 'react';\n\n// VKUI\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport InfoRow from '@vkontakte/vkui/dist/components/InfoRow/InfoRow';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Progress from '@vkontakte/vkui/dist/components/Progress/Progress';\n\n// VK Icons\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\n\nconst health = ({ id, this: props}) => (\n<Panel id={id}>\n    <PanelHeader left={<HeaderButton onClick={() => props.goBack()}><Icon24BrowserBack /></HeaderButton>}>\n       Организм\n\t</PanelHeader>\n\n    <List className=\"health\">\n        {Object.keys(props.state.health_list).map((health_key, i) => {\n            // TODO: тут кажется цикл\n            return (\n               <Cell key={i}>\n                   <InfoRow title=\"\">\n                       <span className=\"title\">\n                           { props.state.health_list[health_key].title }\n                       </span>\n                       <span className=\"text\">\n                           { props.state.health_list[health_key].text }\n                       </span>\n\n                       {props.state.health_list[health_key].progress !== 100 && (\n                           <span className=\"progress-text\">\n                               { props.state.health_list[health_key].progress }%\n                           </span>\n                       )}\n\n                       {props.state.health_list[health_key].progress !== 100 && (\n                           <Progress value={ props.state.health_list[health_key].progress } />\n                       )}\n\n                   </InfoRow>\n               </Cell>\n           )\n        })}\n    </List>\n</Panel>\n)\nexport default health;\n","// Инструменты\nimport React from 'react';\nimport moment from 'moment';\nimport connect from '@vkontakte/vk-connect';\n\n// VKUI\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ModalRoot from '@vkontakte/vkui/dist/components/ModalRoot/ModalRoot';\nimport ModalPage from '@vkontakte/vkui/dist/components/ModalPage/ModalPage';\nimport ModalPageHeader from '@vkontakte/vkui/dist/components/ModalPageHeader/ModalPageHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Alert from '@vkontakte/vkui/dist/components/Alert/Alert';\nimport Link from '@vkontakte/vkui/dist/components/Link/Link';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\n\n// Icons\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport IconApp from './img/app_icon_150.jpg';\n\n// Css\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './style.css';\n\n// Panels\nimport Home from './panels/home.js'\nimport Settings from './panels/settings.js'\nimport Smoke from './panels/smoke.js'\nimport Health from './panels/health.js'\n\n// Other\nimport packageJson from '../package.json';\nimport eruda from 'eruda';\n\n// Поддержка бюджетных устройств\nimport 'url-search-params-polyfill';\nimport fromEntries from 'fromentries';\nimport { isTSNumberKeyword } from '@babel/types';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terror: \"\",\n\t\t\tobject_error: [],\n\t\t\tactiveModal: null,\n\t\t\tmodalHistory: [],\n\t\t\ttext: '',\n\t\t\tsnackbar: null,\n\t\t\timage_url: \"\",\n\n\t\t\tlast_smoke_at: '',\n\t\t\tlast_smoke_at_search: '',\n\t\t\tlast_smoke_at_time_search: '',\n\t\t\tlast_smoke_at_time: '',\n\t\t\tlast_smoke_at_date: '',\n\t\t\tlast_smoke_at_date_search: '',\n\t\t\tyears_of_smoking: '',\n\t\t\tyears_of_smoking_search: '',\n\t\t\tmonths_of_smoking: '',\n\t\t\tmonths_of_smoking_search: '',\n\t\t\tcigarettes_per_day: '',\n\t\t\tcigarettes_per_day_search: '',\n\t\t\tpack_cost: '',\n\t\t\tpack_cost_search: '',\n\t\t\ttar_per_cigarette: '',\n\t\t\ttar_per_cigarette_search: '',\n\t\t\tnicotine_per_cigarette: '',\n\t\t\tnicotine_per_cigarette_search: '',\n\t\t\tstat: {\n                not_smoked_cigarettes: 0,\n                not_smoked_days: 0,\n                money_saved: 0,\n                not_received_tar: 0,\n                not_received_nicotine: 0,\n                time_saved_hours: 0,\n                life_extension_days: 0,\n            },\n            harm_stat: {\n                smoked_days: 0,\n                smoked_cigarettes: 0,\n                money_spent: 0,\n                hours_spent: 0,\n                received_tar: 0,\n                received_nicotine: 0,\n\n                cigarette_butts_weight: 0,\n                netflix_sub_months: 0,\n                marathons: 0,\n                rabbits: 0\n            },\n            activePanel: 'home',\n            history: ['home'],\n            is_support: true,\n            backend_url: 'https://brosaytabak.poprosche.ru/',\n\t\t\thealth_list: [],\n            popout: <ScreenSpinner/>,\n\t\t\tobject_error: {\n\t\t\t\tcigarettes_per_day: \"\",\n\t\t\t}\n\t\t};\n\n\n\t\tthis.modalBack = () => {\n\t\t\tthis.setActiveModal(this.state.modalHistory[this.state.modalHistory.length - 2]);\n\t\t};\n\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.closePopout = this.closePopout.bind(this);\n        this.setActualDatetime = this.setActualDatetime.bind(this);\n\n\t\tthis.state.health_list = {\n\t\t\t1: {\n\t\t\t\ttitle: '1 час',\n\t\t\t\ttext: 'Нормализация кровяного давления и пульса',\n\t\t\t\thours: 1,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t2: {\n\t\t\t\ttitle: '2 часа',\n\t\t\t\ttext: 'Улучшение циркуляции крови',\n\t\t\t\thours: 2,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t4: {\n\t\t\t\ttitle: '4 часа',\n\t\t\t\ttext: 'Возвращение температуры конечностей к норме',\n\t\t\t\thours: 4,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t6: {\n\t\t\t\ttitle: '6 часов',\n\t\t\t\ttext: 'Неприятный запах из ротовой полости менее выражен',\n\t\t\t\thours: 6,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t8: {\n\t\t\t\ttitle: '8 часов',\n\t\t\t\ttext: 'Нормализация уровня кислорода (О2) в крови',\n\t\t\t\thours: 8,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t10: {\n\t\t\t\ttitle: '10 часов',\n\t\t\t\ttext: 'Улучшение транспортной функции красных кровяных телец',\n\t\t\t\thours: 10,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t12: {\n\t\t\t\ttitle: '12 часов',\n\t\t\t\ttext: 'Нормализация уровня угарного газа (СО) в крови',\n\t\t\t\thours: 12,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t24: {\n\t\t\t\ttitle: '24 часа',\n\t\t\t\ttext: 'Снижение риска развития инфаркта или инсульта',\n\t\t\t\thours: 24,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t36: {\n\t\t\t\ttitle: '36 часов',\n\t\t\t\ttext: 'Восстановление вкуса и обоняния',\n\t\t\t\thours: 36,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t48: {\n\t\t\t\ttitle: '2 дня',\n\t\t\t\ttext: 'Минимальное содержание никотина в крови',\n\t\t\t\thours: 48,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t72: {\n\t\t\t\ttitle: '3 дня',\n\t\t\t\ttext: 'Восстановление дыхательной функции легких',\n\t\t\t\thours: 72,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t96: {\n\t\t\t\ttitle: '4 дня',\n\t\t\t\ttext: 'Нормализация свертываемости крови, уменьшение риска тромбообразования',\n\t\t\t\thours: 96,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t120: {\n\t\t\t\ttitle: '5 дней',\n\t\t\t\ttext: 'Нормализация деятельности желудка и поджелудочной железы',\n\t\t\t\thours: 120,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t144: {\n\t\t\t\ttitle: '6 дней',\n\t\t\t\ttext: 'Перестройка клеток организма на деятельность без никотина',\n\t\t\t\thours: 144,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t168: {\n\t\t\t\ttitle: '1 неделя',\n\t\t\t\ttext: 'Повышение общего тонуса организма',\n\t\t\t\thours: 168,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t336: {\n\t\t\t\ttitle: '2 недели',\n\t\t\t\ttext: 'Исчезновение кашля и отделение макроты',\n\t\t\t\thours: 336,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t504: {\n\t\t\t\ttitle: '3 недели',\n\t\t\t\ttext: 'Исчезновение зависимости от никотина',\n\t\t\t\thours: 504,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t744: {\n\t\t\t\ttitle: '1 месяц',\n\t\t\t\ttext: 'Улучшение кровообращения по всему организму',\n\t\t\t\thours: 744,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t1488: {\n\t\t\t\ttitle: '2 месяца',\n\t\t\t\ttext: 'Нормализация деятельности мелких сосудов, улучшение состояния их стенок',\n\t\t\t\thours: 1488,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t2232: {\n\t\t\t\ttitle: '3 месяца',\n\t\t\t\ttext: 'Восстановление тканей бронхов и легких, увеличение их объема',\n\t\t\t\thours: 2232,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t2976: {\n\t\t\t\ttitle: '4 месяца',\n\t\t\t\ttext: 'Полное обновление клеток крови',\n\t\t\t\thours: 2976,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t3720: {\n\t\t\t\ttitle: '5 месяцев',\n\t\t\t\ttext: 'Начало восстановления клеток печени',\n\t\t\t\thours: 3720,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t4464: {\n\t\t\t\ttitle: '6 месяцев',\n\t\t\t\ttext: 'Полное обновление клеток кожи',\n\t\t\t\thours: 4464,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t5208: {\n\t\t\t\ttitle: '7 месяцев',\n\t\t\t\ttext: 'Восстановление голосовых связок, исчезновение хрипоты голоса',\n\t\t\t\thours: 5208,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t5952: {\n\t\t\t\ttitle: '8 месяцев',\n\t\t\t\ttext: 'Очищение зубов от желтого налета',\n\t\t\t\thours: 5952,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t6696: {\n\t\t\t\ttitle: '9 месяцев',\n\t\t\t\ttext: 'Уменьшение риска развития простудных и инфекционных заболеваний',\n\t\t\t\thours: 6696,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t7440: {\n\t\t\t\ttitle: '10 месяцев',\n\t\t\t\ttext: 'Возможность зачать здорового ребенка такая же, как у никогда не курившего человека',\n\t\t\t\thours: 7440,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t8184: {\n\t\t\t\ttitle: '11 месяцев',\n\t\t\t\ttext: 'Возможность занятий спортом без ограничений',\n\t\t\t\thours: 8184,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t8928: {\n\t\t\t\ttitle: '1 год',\n\t\t\t\ttext: 'Снижение наполовину риска развития кардиологических заболеваний',\n\t\t\t\thours: 8928,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t17856: {\n\t\t\t\ttitle: '2 года',\n\t\t\t\ttext: 'Риск сердечного приступа на уровне риска никогда не курившего человека',\n\t\t\t\thours: 17856,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t26784: {\n\t\t\t\ttitle: '3 года',\n\t\t\t\ttext: 'Полное обновление мягких тканей организма',\n\t\t\t\thours: 26784,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t35712: {\n\t\t\t\ttitle: '4 года',\n\t\t\t\ttext: 'Риск развития рака ротовой полости, горла или пищевода снижены в два раза',\n\t\t\t\thours: 35712,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t44640: {\n\t\t\t\ttitle: '5 лет',\n\t\t\t\ttext: 'Риск инсульта на уровне риска никогда не курившего человека',\n\t\t\t\thours: 44640,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t89280: {\n\t\t\t\ttitle: '10 лет',\n\t\t\t\ttext: 'Риск развития рака легких на уровне риска никогда не курившего человека',\n\t\t\t\thours: 89280,\n\t\t\t\tprogress: 0\n\t\t\t},\n\t\t\t133920: {\n\t\t\t\ttitle: '15 лет',\n\t\t\t\ttext: 'Риск инфаркта на уровне риска никогда не курившего человека',\n\t\t\t\thours: 133920,\n\t\t\t\tprogress: 0\n\t\t\t}\n\t\t};\n\t}\n\n    goBack = () => {\n        const history = [...this.state.history];\n        history.pop();\n        const activePanel = history[history.length - 1];\n        if (activePanel === 'main') {\n          connect.send('VKWebAppDisableSwipeBack');\n\t\t}\n\t\tthis.setState({activeModal: null})\n        this.setState({ history, activePanel });\n  \t}\n\n  \tgoForward = (activePanel) => {\n        const history = [...this.state.history];\n        history.push(activePanel);\n        if (this.state.activePanel === 'main') {\n            connect.send('VKWebAppEnableSwipeBack');\n        }\n        this.setState({ history, activePanel });\n  \t}\n\n\tsetActiveModal(activeModal) {\n\t\tactiveModal = activeModal || null;\n\t\tlet modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n\t\tif (activeModal === null) {\n\t\t\tmodalHistory = [];\n\t\t} else if (modalHistory.indexOf(activeModal) !== -1) {\n\t\t\tmodalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n\t\t} else {\n\t\t\tmodalHistory.push(activeModal);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tactiveModal,\n\t\t\tmodalHistory\n\t\t});\n\t};\n\n\n\n\tpublickStory() {\n\t\tthis.setState({popout: <ScreenSpinner/>})\n\t\tvar app_url = new URL(window.location.href);\n\t    var app_params = app_url.search.substring(1);\n\t    var url = this.state.backend_url + 'story?' + app_params;\n\t    fetch(url, {\n\t    mode: 'cors', // no-cors, cors, *same-origin\n\t    headers: {\n\t        'Content-Type': 'application/json'\n\t    }\n\t    })\n\t    .then(response => response.json())\n\t    .then(data => {\n\t\t\tif(data) {\n\t\t\t\tthis.setState({popout: null})\n            \tconnect.send(\"VKWebAppShowStoryBox\", {\n\t\t\t\tbackground_type: \"image\",\n\t\t\t\turl: data.image_url,\n\t\t\t\t})\n\t\t\t\tconsole.log(data.image_url)\n\t\t\t} else {\n\t\t\t\tconsole.log(data)\n\t\t\t}\n\t        });\n\t}\n\n\tonChange(event) {\n        var name = event.currentTarget.name;\n        var value = event.currentTarget.value;\n\n        this.setState({ [name]: value });\n\n        if (name === 'last_smoke_at_time_search') {\n            name = 'last_smoke_at_serch';\n            value = this.state.last_smoke_at_date_search + 'T' + value;\n            this.setState({ [name]: value });\n        }\n\n        if (name === 'last_smoke_at_date_search') {\n            name = 'last_smoke_at_search';\n            value = value + 'T' + this.state.last_smoke_at_time_search;\n            this.setState({ [name]: value });\n        }\n    }\n\n    openSettings() {\n\t\twindow.history.pushState({panel: 'settings'}, `settings`);\n        this.setState({activePanel: \"settings\", history: [...this.state.history, 'settings']})\n    }\n\n    openSmoke() {\n\t\twindow.history.pushState({panel: 'smoke'}, `smoke`);\n        this.setState({activePanel: \"smoke\", history: [...this.state.history, 'smoke']})\n    }\n\n\topenHealth() {\n\t\twindow.history.pushState({panel: 'health'}, `health`);\n        this.setState({activePanel: \"health\", history: [...this.state.history, 'health']})\n    }\n\n    setActualDatetime() {\n        var actual_date = moment().format(\"YYYY-MM-DD\");\n        var actual_time = moment().format(\"HH:mm\");\n        var actual_datetime = moment().format(\"YYYY-MM-DDTHH:mm:ss\");\n\n        this.setState({\n            last_smoke_at_search: actual_datetime,\n            last_smoke_at_date_search: actual_date,\n            last_smoke_at_time_search: actual_time\n        });\n\n\t\treturn actual_datetime;\n    }\n\n    plural_form(count, words) {\n        var cases = [2, 0, 1, 1, 1, 2];\n        return words[ (count % 100 > 4 && count % 100 < 20) ? 2 : cases[ Math.min(count % 10, 5)] ];\n    }\n\n    number_format(count) {\n        return new Intl.NumberFormat('ru-RU').format(count)\n    }\n\n\thandleSubmit() {\n        this.setState({popout: <ScreenSpinner/>})\n\n        var app_url = new URL(window.location.href);\n        var app_url_params = new URLSearchParams(app_url.search.substring(1));\n        var vk_params = fromEntries(app_url_params);\n\n        var body = Object.assign(this.state, vk_params);\n\n\t\tvar url = this.state.backend_url + 'set';\n\n        fetch(url, {\n            method: 'POST',\n            mode: 'cors', // no-cors, cors, *same-origin\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                last_smoke_at: body.last_smoke_at_search,\n                years_of_smoking: body.years_of_smoking_search,\n                months_of_smoking: body.months_of_smoking_search,\n                cigarettes_per_day: body.cigarettes_per_day_search,\n                pack_cost: body.pack_cost_search,\n                tar_per_cigarette: body.tar_per_cigarette_search,\n                nicotine_per_cigarette: body.nicotine_per_cigarette_search,\n                vk_access_token_settings: vk_params.vk_access_token_settings,\n\t\t\t\tvk_are_notifications_enabled: vk_params.vk_are_notifications_enabled,\n\t\t\t\tvk_group_id: vk_params.vk_group_id,\n                vk_is_app_user: vk_params.vk_is_app_user,\n                vk_is_favorite: vk_params.vk_is_favorite,\n                vk_language: vk_params.vk_language,\n                vk_platform: vk_params.vk_platform,\n                vk_ref: vk_params.vk_ref,\n                vk_app_id: vk_params.vk_app_id,\n                vk_user_id: vk_params.vk_user_id,\n                sign: vk_params.sign,\n            }),\n\n        })\n        .then(red => red.json())\n        .then(result => {\n\t\t\tconsole.log(result)\n            if (result.status === \"ok\") {\n                this.goBack();\n\t\t\t\tthis.setState({\n\t\t\t\tpopout: null,\n\t\t\t\tlast_smoke_at: this.state.last_smoke_at_search,\n                years_of_smoking: this.state.years_of_smoking_search,\n                months_of_smoking: this.state.months_of_smoking_search,\n                cigarettes_per_day: this.state.cigarettes_per_day_search,\n                pack_cost: this.state.pack_cost_search,\n                tar_per_cigarette: this.state.tar_per_cigarette_search,\n                nicotine_per_cigarette: this.state.nicotine_per_cigarette_search,\n\t\t\t\t})\n\n            } else {\n\t\t\t\tthis.setState({error: result.error})\n\t\t\t\tthis.ErrorAlert();\n\t\t\t}\n        });\n    }\n\n\tsendToBackend(body) {\n\t\tconsole.log(body);\n\n        var url = this.state.backend_url + 'log';\n        fetch(url, {\n            method: 'POST',\n            mode: 'cors', // no-cors, cors, *same-origin\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n        });\n\t}\n\n\tErrorAlert() {\n\t\tthis.setState({popout:\n\t\t\t<Alert\n\t\t\tactions={[{\n\t\t\t  title: 'Отмена',\n\t\t\t  autoclose: true,\n\t\t\t  style: 'cancel'\n\t\t\t}]}\n\t\t\tonClose={this.closePopout}\n\t\t  >\n\t\t\t<h2>Error</h2>\n\t\t<p>{this.state.error}</p>\n\t\t  </Alert>\n\t\t})\n\t}\n    closePopout(){\n       this.setState({popout: null})\n\t}\n\n\tback(e) {\n\t\tif(e.state) {\n\t\tthis.setState({activePanel: e.state.panel});\n\t\t} else {\n\t\tthis.setState({activePanel: 'home', search: ''});\n\t\twindow.history.pushState({panel: 'home'}, `home`);\n\t\t}\n\t   }\n\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('popstate', e => e.preventDefault() & this.back(e));\n\t\twindow.history.pushState({panel: 'home'}, `home`)\n\t\tconnect.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\tif(data.scheme === \"bright_light\") {\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\"});\n\t\t\t\t}\n\t\t\t\telse if(data.scheme === \"space_gray\"){\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\"});\n\t\t\t\t}\n\t\t\t\telse if(data.scheme === \"client_light\") {\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"dark\"});\n\t\t\t\t}\n\t\t\t\telse if(data.scheme === \"client_dark\"){\n\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\"});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n        var app_url = new URL(window.location.href);\n        var app_params = app_url.search.substring(1);\n        var url = this.state.backend_url + 'get?' + app_params;\n        fetch(url, {\n            mode: 'cors', // no-cors, cors, *same-origin\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            // TODO: проверяем на статус ответа\n\n\t\t\tif (data.user.last_smoke_at === null || data.user.last_smoke_at === '') {\n\t\t\t\twindow.history.pushState({panel: 'settings'}, `settings`);\n\t\t\t\tthis.setState({activePanel: 'settings', history: [...this.state.history, 'settings'], popout: null});\n\t\t\t} else {\n\t\t\t\tthis.setState(data.user);\n\t\t\t\tconsole.log(data.user)\n\t\t\t\tthis.setState({popout: null})\n\t\t\t\tthis.setState({\n                    years_of_smoking_search: data.user.years_of_smoking,\n                    months_of_smoking_search: data.user.months_of_smoking,\n                    cigarettes_per_day_search: data.user.cigarettes_per_day,\n                    pack_cost_search: data.user.pack_cost,\n                    tar_per_cigarette_search: data.user.tar_per_cigarette,\n\t\t\t\t\tnicotine_per_cigarette_search: data.user.nicotine_per_cigarette,\n\t\t\t\t\tlast_smoke_at_search: moment(data.user.last_smoke_at).format(\"YYYY-MM-DDTHH:mm:ss\"),\n                    last_smoke_at_date_search: moment(data.user.last_smoke_at).format(\"YYYY-MM-DD\"),\n                    last_smoke_at_time_search: moment(data.user.last_smoke_at).format(\"HH:mm\"),\n\t\t\t\t})\n\t\t\t\tthis.setState({\n\t\t\t\t\tlast_smoke_at: moment(data.user.last_smoke_at).format(\"YYYY-MM-DDTHH:mm:ss\"),\n                    last_smoke_at_date: moment(data.user.last_smoke_at).format(\"YYYY-MM-DD\"),\n                    last_smoke_at_time: moment(data.user.last_smoke_at).format(\"HH:mm\"),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// проверяем каждую секунду\n            setInterval(() => {\n\t\t\t\tif (this.state.last_smoke_at === null || this.state.last_smoke_at === '') {\n                    window.history.pushState({panel: 'settings'}, `settings`);\n\t\t\t\t\tthis.setState({activePanel: 'settings', history: [...this.state.history, 'settings'], popout: null});\n\t   \t\t\t } else {\n\t                // вычисляем сколько прошло минут с последнего курения\n\t                var datetime_last_smoke = new Date(\n\t\t\t\t\t\tmoment(this.state.last_smoke_at).format(\"YYYY-MM-DDTHH:mm:ss\")\n\t\t\t\t\t).getTime();\n\t                var datetime_now = new Date(\n                        moment().format(\"YYYY-MM-DDTHH:mm:ss\")\n                    ).getTime();\n                    var not_smoked_ms = moment.duration(datetime_now - datetime_last_smoke, 'milliseconds');\n\n\t                // не курите дней\n                    var not_smoked_days = Math.floor(not_smoked_ms.asDays());\n                    this.setState({ stat: { ...this.state.stat, not_smoked_days: not_smoked_days}});\n\n                    // счетчик час:мин:сек\n                    var countdown = moment.utc(not_smoked_ms.as('milliseconds')).format('HH:mm:ss');\n                    this.setState({ stat: { ...this.state.stat, countdown: countdown } });\n\n\t                // сигарет в минуту\n\t                var cigarettes_per_minute = this.state.cigarettes_per_day / (24*60);\n\n\t                // не выкурено сигарет\n\t                var not_smoked_munutes = not_smoked_ms.asMinutes();\n                    var not_smoked_cigarettes = Math.round(cigarettes_per_minute * not_smoked_munutes);\n                    this.setState({ stat: { ...this.state.stat, not_smoked_cigarettes: not_smoked_cigarettes} });\n\n\t                // сэкономлено денег\n\t                var cost_per_minute = (this.state.pack_cost / 20 * this.state.cigarettes_per_day) / (24*60);\n                    this.setState({ stat: { ...this.state.stat, money_saved: Math.round(cost_per_minute * not_smoked_munutes) } });\n\n\t                // TODO: динамический рассчет времени на сохранение жизни\n\n\t                // не получено смолы\n                    this.setState({ stat: { ...this.state.stat, not_received_tar: ((not_smoked_cigarettes * this.state.tar_per_cigarette) / 1000).toFixed(1) } });\n\n\t\t\t\t\t// не получено никотина\n                    this.setState({ stat: { ...this.state.stat, not_received_nicotine: (not_smoked_cigarettes * this.state.nicotine_per_cigarette).toFixed(1) } });\n\n\t\t\t\t\t// сэкономлено времени\n                    var minutes_for_cigarette = 4; // 4 минуты на перекур\n\t                var time_saved_minutes = minutes_for_cigarette * not_smoked_cigarettes;\n                    this.setState({ stat: { ...this.state.stat, time_saved_hours: Math.floor(time_saved_minutes / 60) } });\n\n\t\t\t\t\t// продление жизни\n\t                // var life_extension_minutes = not_smoked_munutes / 6.5;\n\t\t\t\t\t// this.setState({life_extension_days: Math.floor(life_extension_minutes / 60 / 24)});\n\n                    // стаж курения в днях\n                    var smoked_days = (parseInt(this.state.years_of_smoking) * 12 + parseInt(this.state.months_of_smoking)) * 30;\n                    this.setState({ harm_stat: { ...this.state.harm_stat, smoked_days: smoked_days} });\n\n                    // выкурено сигарет\n                    var smoked_cigarettes = smoked_days * this.state.cigarettes_per_day;\n                    this.setState({ harm_stat: { ...this.state.harm_stat, smoked_cigarettes: smoked_cigarettes} });\n\n                    // потрачено денег\n                    var money_spent = smoked_days * this.state.pack_cost / 20 * this.state.cigarettes_per_day;\n                    this.setState({ harm_stat: { ...this.state.harm_stat, money_spent: money_spent} });\n\n                    // потрачено дней\n                    var hours_spent = Math.round(smoked_cigarettes * minutes_for_cigarette / 60);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, hours_spent: hours_spent} });\n\n                    // получено смолы\n                    var received_tar = ((smoked_days * this.state.cigarettes_per_day * this.state.tar_per_cigarette) / 1000).toFixed(1);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, received_tar: received_tar} });\n\n                    // получено никотина\n                    var received_nicotine = ((smoked_days * this.state.cigarettes_per_day * this.state.nicotine_per_cigarette) / 1000).toFixed(1);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, received_nicotine: received_nicotine} });\n\n                    // вес окурков\n                    var cigarette_weight = 0.45; // 1 сига = 0.45 грамм\n                    var cigarette_butts_weight = Math.round(cigarette_weight * smoked_cigarettes / 1000);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, cigarette_butts_weight: cigarette_butts_weight} });\n\n                    // подписок на нетфликс\n                    var netflix_sub_cost = 600; // 1 сига = 0.45 грамм\n                    var netflix_sub_months = Math.floor(money_spent / netflix_sub_cost);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, netflix_sub_months: netflix_sub_months} });\n\n                    // марафон можно было пробежать\n                    var minutes_spent = hours_spent * 60;\n                    var marathon_minutes = 5 * 60; // 5 часов на марафн\n                    var marathons = Math.floor(\n                        minutes_spent / marathon_minutes\n                    );\n                    this.setState({ harm_stat: { ...this.state.harm_stat, marathons: marathons} });\n\n                    // убитых кроликов\n                    var drop_of_nicotine = 0.003; // грамм для убийства одного кролика\n                    var rabbits = Math.floor(received_nicotine / drop_of_nicotine);\n                    this.setState({ harm_stat: { ...this.state.harm_stat, rabbits: rabbits} });\n\n\t\t\t\t\t// восстановление здоровья\n\t\t\t\t\tvar not_smoked_hours = not_smoked_ms.asHours();\n\t\t\t\t\tObject.keys(this.state.health_list).forEach((health_key, i) => {\n\t\t\t\t\t\tvar percent = 0;\n\t\t\t\t\t\tvar diff = not_smoked_hours - health_key;\n\t\t\t\t\t\tif (diff > 0) {\n\t\t\t\t\t\t\tpercent = 100;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// считаем процент успешности\n\t\t\t\t\t\t\tpercent = (not_smoked_hours / health_key * 100).toFixed(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.state.health_list[health_key].progress = percent;\n\t\t\t\t\t});\n\n\t   \t\t\t }\n\t\t\t}, 1000);\n\t\t});\n\n    }\n\n\trender() {\n\t\tconst modal = (\n\t\t\t<ModalRoot activeModal={this.state.activeModal}>\n                <ModalPage\n\t\t\t\t\tid=\"about_app\"\n\t\t\t\t\tonClose={this.modalBack}\n\t\t\t\t\theader={\n\t\t\t\t\t\t<ModalPageHeader\n\t\t\t\t\t\t\tleft={<HeaderButton onClick={this.modalBack}><Icon24Cancel /></HeaderButton>}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<span onClick={() => eruda.init()}>О приложении</span>\n\t\t\t\t\t\t</ModalPageHeader>\n\t\t\t\t\t}\n\t\t\t\t>\n                    <Div className=\"about\">\n                        <img className=\"app-icon\" src={IconApp} alt=\"Бросай табак!\"/>\n                        <span className=\"app-name\">Бросай табак!</span>\n                        <span className=\"app-version\">Версия {packageJson.version}</span>\n                        <p className=\"app-company\">\n                            Разработано в <Link href=\"https://vk.com/poprosche.studio\" target=\"_blank\">Студии Попроще</Link>.\n                            <br />\n                            Приходите к нам за разработкой VK Mini Apps, веб-приложений и чат-ботов.\n                        </p>\n                    </Div>\n\n\t\t\t\t</ModalPage>\n\n\t\t\t</ModalRoot>\n\t\t);\n\n\t\treturn (\n            <ConfigProvider isWebView={true}>\n            <View\n            id=\"glav\"\n            activePanel={this.state.activePanel}\n            modal={modal}\n            onSwipeBack={this.goBack}\n            history={this.state.history}\n            popout={this.state.popout}>\n\t\t\t\t<Home id=\"home\" this={this} connect={connect}/>\n                <Settings id=\"settings\" this={this}/>\n                <Smoke id=\"smoke\" this={this}/>\n\t\t\t\t<Health id=\"health\" this={this}/>\n\t\t\t</View>\n            </ConfigProvider>\n\t\t);\n\t}\n}\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\nimport {platform, IOS} from '@vkontakte/vkui';\n\nconst root = document.getElementById('root');\n\nconnect.send('VKWebAppInit');\nif(platform() === IOS) {\n    mVKMiniAppsScrollHelper(root);\n}\n\nReactDOM.render(<App />, root);\n"],"sourceRoot":""}